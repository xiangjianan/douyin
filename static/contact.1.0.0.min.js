$(".loading").height($(window).height()-$(".home-logo").height()),$("#content").click(()=>{$("#content").val("")}),new Vue({el:"#download",methods:{download(){$(".loading").css("display","block");let e=$("#content").val().trim();$.ajax({type:"POST",dataType:"text",url:"/api/douyin",data:{video_url_share:e},success:e=>{if((e=JSON.parse(e)).error)$(".loading").css("display","none"),$(".el-message__closeBtn").click(),this.$message({message:"无效链接",type:"info",center:!0,offset:4,showClose:!0,duration:2e3}),setTimeout(()=>{$("#error").text("")},1e3);else{$(".loading").css("display","none");let t=e.data.aweme_type;if(4===t){let t=e.data.video_url_web,o=e.data.video_name;window.open(`https://dy.helloxjn.com/download?video_url_web=${t}&video_name=${o}`,"_self")}else 2===t&&image_show(e.data.image_url_list)}}})}}}),new Vue({el:"#watch",methods:{watch(){$(".loading").css("display","block");let e=$("#content").val().trim();$.ajax({type:"POST",dataType:"text",url:"https://dy.helloxjn.com/api/douyin",data:{video_url_share:e},success:e=>{if((e=JSON.parse(e)).error)$(".loading").css("display","none"),$(".el-message__closeBtn").click(),this.$message({message:"无效链接",type:"info",center:!0,offset:4,showClose:!0,duration:2e3}),setTimeout(()=>{$("#error").text("")},1e3);else{$(".loading").css("display","none");let t=e.data.aweme_type;if(4===t){let t=e.data.video_url_web;$("#video_url").attr("href",t),$("#error").text(""),document.getElementById("video_url").click()}else 2===t&&image_show(e.data.image_url_list)}}})}}});let image_show=e=>{let t='<div class="col-md-12"><div class="form-group"><h5 style="text-align: center; color: #67C23A">视频类型为图集，图片提取成功！</h5></div></div>',o=0;for(o in e)t+=`<div index=${o} class="image-li"><div class="col-md-6"><img src=${e[o]} alt=""></div></div>`;$(".row .douyin_form").html(""),$(".readme").html(""),$(".copyrights").remove(),$(".image_list").html(t)};console.log("\nGitHub: https://github.com/xiangjianan\n\nWebsite: https://www.helloxjn.com\n\nEmail: xiang9872@gmail.com\n\n");